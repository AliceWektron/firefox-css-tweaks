:root {
	--uc-navbar-height: 40px;
	--uc-bookbar-height: 22px;
	--uc-vertical-collapsed-width: 50px;
	--uc-vertical-expanded-width: 250px;
	--chrome-content-separator-color: transparent;
	--uc-tab-margins-left: 3.5px 0 5px 0px;
	--uc-tab-margins-right: 3.5px 0px 5px 0px;
}

/* Collapsed state by default */
#sidebar-main {
	transition: width 50ms ease !important;
	width: var(--uc-vertical-collapsed-width) !important;
}

/* Expanded state on hover or when forced with the expanded attribute */
#sidebar-main:hover,
#sidebar-main[expanded] {
	width: var(--uc-vertical-expanded-width) !important;
}

/* Adjust the widths of the tabs */
#sidebar-main:not(:hover):not([expanded]) .tabbrowser-tab {
	width: 70px !important;
	min-width: 0 !important;
}

#sidebar-main:hover .tabbrowser-tab,
#sidebar-main[expanded] .tabbrowser-tab {
	/* Adjust the width of each tab based on the expanded width */
	width: var(--uc-vertical-expanded-width) !important;
	min-width: 0 !important;
}

#sidebar-main:not(:hover):not([expanded]) .tabbrowser-tab[pinned] {
	width: 43px !important;
	min-width: 0 !important;
}

/* Hide internal elements in collapsed state */
#sidebar-main:not(:hover):not([expanded]) .tab-label-container,
#sidebar-main:not(:hover):not([expanded]) .tab-close-button {
	display: none !important;
}

/* Show titles and buttons when expanded */
#sidebar-main:hover .tab-label-container,
#sidebar-main[expanded] .tab-label-container,
#sidebar-main:hover .tab-close-button,
#sidebar-main[expanded] .tab-close-button {
	display: inline !important;
}

/* Always show pinned tabs vertically */
#sidebar-main #vertical-pinned-tabs-container {
	--tab-inline-padding: calc((var(--tab-collapsed-width) - var(--icon-size-default)) / 2) !important;

	#tabbrowser-tabs[orient="vertical"]>&:not(:empty) {
		display: flex !important;
		flex-direction: column !important;
	}

	#tabbrowser-tabs[expanded]>& {
		padding-inline: 0px !important;

		& .tab-background {
			margin-inline: var(--tab-inner-inline-margin) !important;
		}

		& .tab-content {
			padding: 0 var(--tab-inline-padding) !important;
		}

		& .tab-icon-image {
			margin-inline-end: var(--tab-icon-end-margin);
		}
	}

	& .tab-background {
		.tabbrowser-tab:not(:hover)>.tab-stack>&:not([selected], [multiselected]) {
			background-color: transparent !important;
		}
	}

	/* Show the separator between pinned and normal tabs, even when not expanded */
	&:not(:empty)+#vertical-pinned-tabs-container-separator {
		display: block !important;
	}

	#tabbrowser-tabs:not([expanded])>&+#vertical-pinned-tabs-container-separator {
		width: calc(var(--uc-vertical-collapsed-width) - var(--tab-inline-padding)) !important;
	}
}

/* Keep attention dot under icon, even when expanded */
.tab-content[titlechanged]:not([selected]) {
	background-position-x: calc(var(--uc-vertical-collapsed-width) / 2) !important;
}

/* Siempre mostrar pestañas fijadas en vertical */
#sidebar-main #vertical-pinned-tabs-container {
	--tab-inline-padding: calc((var(--tab-collapsed-width) - var(--icon-size-default)) / 2) !important;

	#tabbrowser-tabs[orient="vertical"]>&:not(:empty) {
		display: flex !important;
		flex-direction: column !important;
	}

	#tabbrowser-tabs[expanded]>& {
		padding-inline: 0px !important;

		& .tab-background {
			margin-inline: var(--tab-inner-inline-margin) !important;
		}

		& .tab-content {
			padding: 0 var(--tab-inline-padding) !important;
		}

		& .tab-icon-image {
			margin-inline-end: var(--tab-icon-end-margin);
		}
	}

  /* Ocultar fondo de pestañas fijadas */
	& .tab-background {
		.tabbrowser-tab:not(:hover)>.tab-stack>&:not([selected], [multiselected]) {
			background-color: transparent !important;
		}
	}

	/* Siempre mostrar la linea entre pestañas fijadas y otras pestañas */
	&:not(:empty)+#vertical-pinned-tabs-container-separator {
		display: block !important;
	}

	#tabbrowser-tabs:not([expanded])>&+#vertical-pinned-tabs-container-separator {
		width: calc(var(--uc-vertical-collapsed-width) - var(--tab-inline-padding)) !important;
	}
}

/* Mantener punto de atencion verde debajo del icono de la pestaña */
.tab-content[titlechanged]:not([selected]) {
	background-position-x: calc(var(--uc-vertical-collapsed-width) / 2) !important;
}
